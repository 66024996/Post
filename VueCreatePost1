<template>
  <div>
    <h1 class="text-2xl font-bold mb-4">ตั้งกระทู้</h1>
    <form @submit.prevent="createPost">
      <div class="mb-4">
        <label for="title" class="block text-sm font-medium text-gray-700">หัวข้อ:</label>
        <input type="text" id="title" v-model="title" class="mt-1 p-2 border rounded w-full">
      </div>
      <div class="mb-4">
        <label for="content" class="block text-sm font-medium text-gray-700">เนื้อหา:</label>
        <textarea id="content" v-model="content" class="mt-1 p-2 border rounded w-full"></textarea>
      </div>
      <div class="mb-4">
        <label for="image" class="block text-sm font-medium text-gray-700">รูปภาพ:</label>
        <input type="file" id="image" @change="handleImageUpload" class="mt-1">
      </div>
      <button type="submit" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded">สร้างกระทู้</button>
    </form>
  </div>
</template>

<script>
export default {
  data() {
    return {
      title: '',
      content: '',
      image: null
    };
  },
  methods: {
    createPost() {

      const postData = {
        title: this.title,
        content: this.content,
        image: this.image
      };
      // ทำการสร้างโพสต์และอัปโหลดรูปภาพ
      // หลังจากนั้นส่งไปยังหน้าสำหรับดูโพสต์ทั้งหมด
    },
    handleImageUpload(event) {
      // อ่านไฟล์ภาพที่เลือกจากอุปกรณ์
      const file = event.target.files[0];
      // ทำการอัปโหลดไฟล์ภาพ
      // ในที่นี้เราจะใช้ FileReader เพื่อแสดงภาพตัวอย่าง
      const reader = new FileReader();
      reader.onload = () => {
        this.image = reader.result;
      };
      reader.readAsDataURL(file);
    }
  }
};
</script>

<style>
/* เพิ่มสไตล์เพิ่มเติมตามต้องการ */
</style>
